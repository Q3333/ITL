# R 크롤링 2일차



#### 특정 id의 div 안에 있는 클래스 값만 가져올 때 



```R
size_html <- html_nodes(webpage, 'div #variation_size_name')
size_html <- html_nodes(size_html, 'span.selection')
size <- html_text(size_html)
```



div 값을 먼저 가져온 뒤 거기서 다시 가져옴





#### 텍스트 전처리



```R
size <-str_replace_all(size, "[\r\n]", "") # 공백,줄바꿈 제거
size <- str_trim(size) # 맨 앞, 맨 뒤의 의미없는 띄어쓰기 제거
size
```





#### 내일 필기 마저

```
install.packages("jsonlite")
libary(jsonlite)
libary(xml2)
libary(rvest)
libary(stringr)

url <- 'https://www.amazon.in/OnePlus-Mirror-Black-64GB-Memory/dp/B0756Z43QS?tag=googinhydr18418-21&tag=googinkenshoo-21&ascsubtag=aee9a916-6acd-4409-92ca-3bdbeb549f80'

#추출할 정보 : 제목, 가격, 제품 설명, 등급, 크기, 색상

#웹 사이트로부터  HTML code 읽기
webpage <- read_html(url)
  
#제목 정보의 태그 가져오기
title_html <- html_nodes(webpage, 'h1#title')
title <- html_text(title_html)
head(title) 

#모든 공백과 줄 바꿈 제거
str_replace_all(title, "[\r\n]", "")

#가격 정보 태그 가져오기
price_html <- html_nodes(webpage, 'span#priceblock_ourprice')
price <- html_text(price_html)
#모든 공백과 줄 바꿈 제거
price <-str_replace_all(price, "[\r\n]", "")
head(price) 
```