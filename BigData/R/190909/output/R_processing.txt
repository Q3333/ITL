
> url <- "https://ssti.org/blog/useful-stats-capita-personal-income-state-2010-2015"

> get_url <- GET(url)

> html_cont <- readHTMLTable(rawToChar(get_url$content), stringsAsFactors =F)

> html_cont
$`NULL`
                  State    2010    2011    2012
1         United States $40,277 $42,453 $44,266
2               Alabama $34,073 $35,202 $36,036
3                Alaska $47,773 $50,552 $52,269
4               Arizona $34,185 $35,675 $36,788
5              Arkansas $31,991 $33,961 $36,291
6            California $42,411 $44,852 $47,614
7              Colorado $41,877 $44,349 $46,402
8           Connecticut $57,347 $59,884 $62,738
9              Delaware $41,783 $43,555 $44,747
10 District of Columbia $63,741 $67,359 $68,973
11              Florida $38,718 $40,538 $41,249
12              Georgia $34,487 $36,588 $37,254
13               Hawaii $41,594 $42,938 $44,504
14                Idaho $32,050 $33,544 $34,846
15             Illinois $42,154 $44,303 $46,067
16              Indiana $34,390 $36,357 $37,987
17                 Iowa $38,687 $42,058 $43,458
18               Kansas $39,235 $42,403 $43,725
19             Kentucky $32,977 $34,578 $35,814
20            Louisiana $37,227 $38,506 $40,527
21                Maine $37,102 $38,597 $39,589
22             Maryland $49,683 $51,800 $53,078
23        Massachusetts $51,643 $54,327 $56,752
24             Michigan $35,199 $37,343 $38,652
25            Minnesota $42,567 $45,214 $47,293
26          Mississippi $30,783 $31,976 $33,127
27             Missouri $36,638 $38,042 $39,905
28              Montana $34,737 $36,959 $39,102
29             Nebraska $40,023 $43,820 $45,578
30               Nevada $36,918 $37,745 $39,436
31        New Hampshire $45,308 $48,005 $50,546
32           New Jersey $51,202 $53,556 $55,142
33           New Mexico $33,019 $34,556 $35,585
34             New York $49,283 $51,598 $53,571
35       North Carolina $35,569 $36,622 $38,655
36         North Dakota $42,964 $47,861 $55,388
37                 Ohio $36,377 $38,807 $40,329
38             Oklahoma $35,949 $39,037 $41,549
39               Oregon $35,791 $37,512 $39,083
40         Pennsylvania $41,918 $44,018 $45,781
41         Rhode Island $42,737 $44,292 $46,084
42       South Carolina $32,853 $34,220 $35,461
43         South Dakota $40,204 $44,241 $44,792
44            Tennessee $35,601 $37,323 $39,137
45                Texas $38,282 $41,235 $43,505
46                 Utah $32,614 $34,415 $35,995
47              Vermont $40,066 $42,735 $44,287
48             Virginia $45,412 $47,689 $49,320
49           Washington $42,821 $44,800 $47,344
50        West Virginia $32,104 $34,211 $35,374
51            Wisconsin $38,815 $40,837 $42,463
52              Wyoming $44,846 $49,140 $52,154
      2013    2014    2015
1  $44,438 $46,049 $47,669
2  $36,176 $37,512 $38,965
3  $51,259 $54,012 $55,940
4  $36,723 $37,895 $39,060
5  $36,529 $37,782 $39,107
6  $48,125 $49,985 $52,651
7  $46,746 $48,869 $50,410
8  $62,112 $64,864 $66,972
9  $44,819 $46,378 $47,662
10 $68,606 $69,838 $71,496
11 $41,309 $42,737 $44,101
12 $37,596 $38,980 $40,551
13 $44,314 $46,034 $47,753
14 $35,641 $36,734 $37,509
15 $46,477 $47,643 $49,471
16 $38,291 $39,578 $40,998
17 $43,735 $44,937 $44,971
18 $44,311 $44,891 $45,876
19 $35,967 $37,396 $38,989
20 $40,819 $42,030 $43,252
21 $39,562 $40,745 $42,077
22 $52,545 $54,176 $56,127
23 $56,549 $58,737 $61,032
24 $39,197 $40,740 $42,427
25 $47,410 $48,998 $50,541
26 $33,629 $34,431 $35,444
27 $40,297 $41,639 $42,752
28 $38,884 $39,903 $41,280
29 $46,254 $47,557 $48,006
30 $39,223 $40,742 $42,185
31 $50,535 $52,773 $54,817
32 $55,194 $57,620 $59,782
33 $35,254 $37,091 $38,457
34 $53,606 $55,611 $57,705
35 $37,774 $39,171 $40,656
36 $54,373 $55,802 $54,376
37 $40,749 $42,236 $43,478
38 $41,962 $43,637 $44,272
39 $39,426 $41,220 $42,974
40 $46,028 $47,679 $49,180
41 $46,145 $48,359 $50,080
42 $35,472 $36,677 $38,041
43 $44,772 $45,279 $45,002
44 $39,312 $40,457 $42,069
45 $43,807 $45,669 $46,745
46 $36,542 $37,664 $39,045
47 $44,839 $46,428 $47,864
48 $48,956 $50,345 $52,136
49 $47,468 $49,610 $51,146
50 $35,163 $36,132 $37,047
51 $42,737 $44,186 $45,617
52 $51,791 $54,584 $55,303


> str(html_cont)
List of 1
 $ NULL:'data.frame':	52 obs. of  7 variables:
  ..$ State: chr [1:52] "United States" "Alabama" "Alaska" "Arizona" ...
  ..$ 2010 : chr [1:52] "$40,277" "$34,073" "$47,773" "$34,185" ...
  ..$ 2011 : chr [1:52] "$42,453" "$35,202" "$50,552" "$35,675" ...
  ..$ 2012 : chr [1:52] "$44,266" "$36,036" "$52,269" "$36,788" ...
  ..$ 2013 : chr [1:52] "$44,438" "$36,176" "$51,259" "$36,723" ...
  ..$ 2014 : chr [1:52] "$46,049" "$37,512" "$54,012" "$37,895" ...
  ..$ 2015 : chr [1:52] "$47,669" "$38,965" "$55,940" "$39,060" ...

> class(html_cont)
[1] "list"

> html_cont <- as.data.frame(html_cont)

> head(html_cont)
     NULL.State NULL.2010 NULL.2011 NULL.2012
1 United States   $40,277   $42,453   $44,266
2       Alabama   $34,073   $35,202   $36,036
3        Alaska   $47,773   $50,552   $52,269
4       Arizona   $34,185   $35,675   $36,788
5      Arkansas   $31,991   $33,961   $36,291
6    California   $42,411   $44,852   $47,614
  NULL.2013 NULL.2014 NULL.2015
1   $44,438   $46,049   $47,669
2   $36,176   $37,512   $38,965
3   $51,259   $54,012   $55,940
4   $36,723   $37,895   $39,060
5   $36,529   $37,782   $39,107
6   $48,125   $49,985   $52,651

> str(html_cont)
'data.frame':	52 obs. of  7 variables:
 $ NULL.State: chr  "United States" "Alabama" "Alaska" "Arizona" ...
 $ NULL.2010 : chr  "$40,277" "$34,073" "$47,773" "$34,185" ...
 $ NULL.2011 : chr  "$42,453" "$35,202" "$50,552" "$35,675" ...
 $ NULL.2012 : chr  "$44,266" "$36,036" "$52,269" "$36,788" ...
 $ NULL.2013 : chr  "$44,438" "$36,176" "$51,259" "$36,723" ...
 $ NULL.2014 : chr  "$46,049" "$37,512" "$54,012" "$37,895" ...
 $ NULL.2015 : chr  "$47,669" "$38,965" "$55,940" "$39,060" ...

> class(html_cont)
[1] "data.frame"

> names(html_cont) <- c("State", "y2010", "y2011", "y2012", "y2013", "y2014", "y2015")

> tail(html_cont)
           State   y2010   y2011   y2012   y2013
47       Vermont $40,066 $42,735 $44,287 $44,839
48      Virginia $45,412 $47,689 $49,320 $48,956
49    Washington $42,821 $44,800 $47,344 $47,468
50 West Virginia $32,104 $34,211 $35,374 $35,163
51     Wisconsin $38,815 $40,837 $42,463 $42,737
52       Wyoming $44,846 $49,140 $52,154 $51,791
     y2014   y2015
47 $46,428 $47,864
48 $50,345 $52,136
49 $49,610 $51,146
50 $36,132 $37,047
51 $44,186 $45,617
52 $54,584 $55,303

> sink()
