<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Ajax 처리 1</title>

<script type="text/javascript">
window.onload = function(){			// 이벤트 발생
	var req = new XMLHttpRequest(); // 1. XMLHttpRequest()
	req.onloadstart = function(){
		console.log("loadstart : 요청을 보낼때");
	}
	req.onload = function() {
		console.log("load : 요청 성공, 응답 가져올 수 있을 때")
	}

	req.onloadend = function() {
		console.log("loadend : 요청 완료")
	}

	req.onprogress = function() {
		console.log("progress : 데이터를 주고 받을 때")
	}


	req.onreadystatechange = function(){
		if(req.readyState==4){	// 4 = completed 데이터를 전부 받은 상태, 완전한 데이터의 이용 가능
			if(req.status == 200){ // 응답이 성공일 때 200 
				document.getElementById("view").innerHTML = req.responseText;
			}
		}
		
	} // 응답 처리 함수

	req.open("GET","http://70.12.50.148:8080/data.txt") // 2.요청 보낼 준비
	req.send(null); //3.요청 보냄



};	

</script>
</head>
<body>
	<p id = 'view'></p>
</body>
</html>
